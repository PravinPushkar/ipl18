<div ng-init="fixtures.init()" ng-cloak layout layout-align="center center">
    <md-progress-linear class="loader" ng-show="!fixtures.isLoaded" md-mode="indeterminate"></md-progress-linear>
    <md-card layout="column" layout-align="center center" layout-padding layout-margin flex-gt-xs="90" flex-xs="100">
        <md-card ng-repeat="fixture in fixtures.fixturesList" style="width: 100%;">
            <md-card-header style="font-weight:bold" class="cursive-font-card-header">{{fixture.timestamp}}</md-card-header>
            <div>
                <div hide-xs hide-sm layout>
                    <div layout="row" layout-align="start center" flex>
                        <span flex>
                            <md-button class="md-fab-fixture" ng-click="fixtures.toggleFlag(fixture.matchId, fixture.teamId1, fixture.teamId2)" ng-class="{'md-whiteframe-1dp':fixtures.flag[fixture.matchId][fixture.teamId1], 'md-whiteframe-9dp':!fixtures.flag[fixture.matchId][fixture.teamId1], 'pressed-effect': fixtures.flag[fixture.matchId][fixture.teamId1]}"
                                aria-label="Team {{fixture.team.alias}}">
                                <div class="team-logo {{fixture.team1.alias}}"></div>
                            </md-button>
                        </span>

                        <div layout="column" layout-align="center center" flex=55>
                            <span class="md-headline card-smaller-font">{{fixture.team1.alias}} vs. {{fixture.team2.alias}}</span>
                            <span> {{fixture.venue}}</span>
                            <span class="team-vote" ng-bind="fixtures.showTeamVote(fixture.predictions)" ng-class="fixtures.decideClassName(fixture.predictions)"></span>

                        </div>
                        <span flex>
                            <md-button class="md-fab-fixture" ng-click="fixtures.toggleFlag(fixture.matchId, fixture.teamId2, fixture.teamId1)" ng-class="{'md-whiteframe-1dp':fixtures.flag[fixture.matchId][fixture.teamId2], 'md-whiteframe-9dp':!fixtures.flag[fixture.matchId][fixture.teamId2], 'pressed-effect': fixtures.flag[fixture.matchId][fixture.teamId2]}"
                                aria-label="Team {{fixture.team.alias}}">
                                <div class="team-logo {{fixture.team2.alias}}"></div>
                            </md-button>
                        </span>
                    </div>
                    <md-divider layout="column"></md-divider>
                    <div layout="column" layout-align="center center" layout-margin flex="30">
                        <span class="md-headline card-smaller-font">Man of the Match</span>
                        <md-input-container flex "50">
                            <label>Select Player</label>
                            <md-select name="mom" ng-model="fixtures.mom[fixture.matchId]" md-on-close="fixtures.clearSearchItem()" data-md-container-class="selectHeaderClass"
                                required>
                                <md-select-header class="select-header">
                                    <input ng-model="fixtures.searchItem" type="search" placeholder="Search for a player" class="select-header-searchbox md-text"
                                        ng-keydown="$event.stopPropagation()">
                                </md-select-header>
                                <md-option ng-repeat="player in fixtures.playersList | filter:fixtures.searchItem" ng-if="fixtures.playerInTeam(player.teamId, fixture.teamId1, fixture.teamId2)"
                                    ng-value="player.playerId" ng-selected="fixtures.checkMOMSelection(player,fixture.predictions)">{{player.name}}</md-option>
                            </md-select>
                        </md-input-container>

                    </div>
                    <md-divider layout="column"></md-divider>
                    <div flex="15" layout layout-align="center center">
                        <md-button class="md-fab" ng-click="fixtures.useCoin(fixture.matchId)" ng-if="fixture.star" aria-label="Use Coin">
                            <md-tooltip md-direction="top" md-autohide>Coin</md-tooltip>
                            <md-icon md-font-set="material-icons">{{fixtures.coinIcon[fixture.matchId]}}</md-icon>
                        </md-button>
                        <md-button class="md-fab" ng-click="fixtures.makePreditction(fixture)" aria-label="Save Prediction">
                            <md-tooltip md-direction="top" md-autohide>Save Prediction</md-tooltip>
                            <md-icon md-font-set="material-icons">save</md-icon>
                        </md-button>
                        <md-button class="md-fab" ng-click="fixtures.showMatchStats($event,fixture.matchId)" aria-label="Get Votes">
                            <md-tooltip md-direction="top" md-autohide>Get Votes</md-tooltip>
                            <md-icon md-font-set="material-icons">person_pin</md-icon>
                        </md-button>
                    </div>
                </div>

                <!-- Small and XS layout -->
                <div hide-gt-sm layout="row" layout-align="space-between center">
                    <div layout="column" layout-align="center center">
                        <span>{{fixture.team1.alias}} vs. {{fixture.team2.alias}}</span>
                        <span class="md-caption"> {{fixture.venue}}</span>
                        <span class="team-vote" ng-bind="fixtures.showTeamVote(fixture.predictions)" ng-class="fixtures.decideClassName(fixture.predictions)"></span>
                        <div layout="row">
                            <div flex>
                                <md-button class="md-raised md-primary" ng-click="fixtures.toggleFlag(fixture.matchId, fixture.teamId1, fixture.teamId2)">Vote {{fixture.team1.alias}}</md-button>
                            </div>
                            <div flex>
                                <md-button class="md-raised md-primary" ng-click="fixtures.toggleFlag(fixture.matchId, fixture.teamId2, fixture.teamId1)">Vote {{fixture.team2.alias}}</md-button>
                            </div>
                        </div>

                        <div layout="column" layout-align="center center" layout-margin flex="30">
                            <span class="md-headline card-smaller-font">Man of the Match</span>
                            <md-input-container flex "50">
                                <label>Select Player</label>
                                <md-select name="mom" ng-model="fixtures.mom[fixture.matchId]" md-on-close="fixtures.clearSearchItem()" data-md-container-class="selectHeaderClass"
                                    required>
                                    <md-select-header class="select-header">
                                        <input ng-model="fixtures.searchItem" type="search" placeholder="Search for a player" class="select-header-searchbox md-text"
                                            ng-keydown="$event.stopPropagation()">
                                    </md-select-header>
                                    <md-option ng-repeat="player in fixtures.playersList | filter:fixtures.searchItem" ng-if="fixtures.playerInTeam(player.teamId, fixture.teamId1, fixture.teamId2)"
                                        ng-value="player.playerId" ng-selected="fixtures.checkMOMSelection(player,fixture.predictions)">{{player.name}}</md-option>
                                </md-select>
                            </md-input-container>
                        </div>
                        <div flex="15" layout-align="center center">
                            <md-button class="md-fab" ng-click="fixtures.useCoin(fixture.matchId)" ng-if="fixture.star" aria-label="Use Coin">
                                <md-tooltip md-direction="top" md-autohide>Coin</md-tooltip>
                                <md-icon md-font-set="material-icons">{{fixtures.coinIcon[fixture.matchId]}}</md-icon>
                            </md-button>
                            <md-button class="md-fab" ng-click="fixtures.makePreditction(fixture)" aria-label="Save Prediction">
                                <md-tooltip md-direction="top" md-autohide>Save Prediction</md-tooltip>
                                <md-icon md-font-set="material-icons">save</md-icon>
                            </md-button>
                            <md-button class="md-fab" ng-click="fixtures.showMatchStats($event,fixture.matchId)" aria-label="Get Votes">
                                <md-tooltip md-direction="top" md-autohide>Get Votes</md-tooltip>
                                <md-icon md-font-set="material-icons">person_pin</md-icon>
                            </md-button>
                        </div>
                    </div>
                </div>
            </div>
</div>
</md-card>
</md-card>
</div>